<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无锡到安吉天目山漂流 - 路线导航</title>
    <script src="https://webapi.amap.com/maps?v=2.0&key=3cf792d4900c24ed54fe9f7b4f518edd"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 1.2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .map-container h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        #map {
            width: 100%;
            height: 500px;
            border-radius: 10px;
        }

        .route-info {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow-y: auto;
            max-height: 540px;
        }

        .route-info h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .route-summary {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .route-summary .distance {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .route-summary .duration {
            font-size: 1.2rem;
            color: #4a5568;
        }

        .route-steps {
            list-style: none;
        }

        .route-steps li {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 3px solid #38a169;
            transition: transform 0.2s ease;
        }

        .route-steps li:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .step-instruction {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .step-details {
            font-size: 0.9rem;
            color: #718096;
        }

        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .info-card h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .info-card h3::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #667eea;
            margin-right: 10px;
            border-radius: 2px;
        }

        .weather-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .weather-day {
            background: #f7fafc;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .weather-day .date {
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 5px;
        }

        .weather-day .temp {
            font-size: 1.2rem;
            color: #667eea;
            margin: 5px 0;
        }

        .weather-day .desc {
            font-size: 0.9rem;
            color: #718096;
        }

        .tips-list {
            list-style: none;
        }

        .tips-list li {
            background: #e6fffa;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border-left: 3px solid #38b2ac;
        }

        .controls {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: transform 0.2s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .btn:active {
            transform: scale(0.95);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            #map {
                height: 300px;
            }
            
            .route-info {
                max-height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🗺️ 无锡 → 安吉天目山漂流</h1>
            <p>7月12日周六出行 | 智能路线导航</p>
        </div>

        <div class="controls">
            <button class="btn" onclick="planRoute()">🚗 规划路线</button>
            <button class="btn" onclick="showTraffic()">🚦 实时路况</button>
            <a href="https://uri.amap.com/navigation?to=119.525225,30.500336,安吉天目山漂流&mode=car&policy=1&src=mypage&coordinate=gaode&callnative=0" class="btn" target="_blank">📱 手机导航</a>
            <button class="btn" onclick="showNearby()">🏨 周边服务</button>
        </div>

        <div class="main-content">
            <div class="map-container">
                <h3>📍 路线地图</h3>
                <div id="map"></div>
            </div>

            <div class="route-info">
                <h3>🛣️ 路线详情</h3>
                <div class="route-summary">
                    <div class="distance">总距离：193公里</div>
                    <div class="duration">预计用时：2小时24分钟</div>
                </div>
                
                <ul class="route-steps" id="routeSteps">
                    <li>
                        <div class="step-instruction">从无锡市区出发</div>
                        <div class="step-details">经贡湖大道、南湖大道进入华庄互通</div>
                    </li>
                    <li>
                        <div class="step-instruction">进入S58沪常高速</div>
                        <div class="step-details">行驶23.2公里，经太湖隧道</div>
                    </li>
                    <li>
                        <div class="step-instruction">转入G25长深高速</div>
                        <div class="step-details">行驶15.6公里，经梯子山隧道</div>
                    </li>
                    <li>
                        <div class="step-instruction">经李家巷枢纽转G50沪渝高速</div>
                        <div class="step-details">行驶26.2公里</div>
                    </li>
                    <li>
                        <div class="step-instruction">经泗安枢纽转S14杭长高速</div>
                        <div class="step-details">行驶21.1公里</div>
                    </li>
                    <li>
                        <div class="step-instruction">经安城枢纽转S12申嘉湖高速</div>
                        <div class="step-details">行驶26.7公里</div>
                    </li>
                    <li>
                        <div class="step-instruction">下高速进入县道</div>
                        <div class="step-details">经306省道、王孔线、刘彭线到达目的地</div>
                    </li>
                </ul>
            </div>
        </div>

        <div class="info-cards">
            <div class="info-card">
                <h3>🌤️ 天气预报</h3>
                <div class="weather-info">
                    <div class="weather-day">
                        <div class="date">7月4日 周五</div>
                        <div class="temp">39°/23°</div>
                        <div class="desc">多云</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7月5日 周六</div>
                        <div class="temp">40°/24°</div>
                        <div class="desc">晴天</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7月6日 周日</div>
                        <div class="temp">39°/24°</div>
                        <div class="desc">多云</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7月7日 周一</div>
                        <div class="temp">39°/24°</div>
                        <div class="desc">小雨</div>
                    </div>
                </div>
            </div>

            <div class="info-card">
                <h3>⚠️ 出行提醒</h3>
                <ul class="tips-list">
                    <li>🕘 建议早上8:00出发，避开高峰期</li>
                    <li>⛽ 出发前检查油量，中途有多个服务区</li>
                    <li>📱 下载离线地图，山区信号可能不稳定</li>
                    <li>🎒 准备漂流装备：换洗衣物、防水袋</li>
                    <li>💰 准备现金，部分山区可能无法移动支付</li>
                    <li>🚗 山区道路弯道较多，注意安全驾驶</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>🏨 住宿推荐</h3>
                <ul class="tips-list">
                    <li>🏨 7天连锁酒店(安吉中心店) - 性价比高</li>
                    <li>🏡 寒木春华山野汤泉美墅 - 特色民宿</li>
                    <li>🌟 安吉瑶琪星空泳池民宿 - 亲子首选</li>
                    <li>🦌 安吉鹿屿与鹿民宿 - 漂流码头附近</li>
                    <li>🏞️ 安吉布谷山野溯溪民宿 - 自然风光</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>🍽️ 美食推荐</h3>
                <ul class="tips-list">
                    <li>🏔️ 神游山庄 - 正宗农家菜</li>
                    <li>🍃 万亩茶园餐厅 - 安吉白茶主题</li>
                    <li>🌾 山禾稻农场餐厅 - 有机农场菜</li>
                    <li>🏡 大婶家院子餐厅 - 庭院用餐</li>
                    <li>🍲 林李家宴私房菜 - 精致料理</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let map;
        let driving;
        
        // 初始化地图
        function initMap() {
            map = new AMap.Map('map', {
                zoom: 8,
                center: [119.9, 31.0],
                mapStyle: 'amap://styles/normal'
            });
            
            // 添加起点和终点标记
            const startMarker = new AMap.Marker({
                position: [120.311889, 31.491064],
                title: '无锡（起点）',
                icon: new AMap.Icon({
                    size: new AMap.Size(32, 32),
                    image: 'https://webapi.amap.com/theme/v1.3/markers/n/start.png'
                })
            });
            
            const endMarker = new AMap.Marker({
                position: [119.525225, 30.500336],
                title: '安吉天目山漂流（终点）',
                icon: new AMap.Icon({
                    size: new AMap.Size(32, 32),
                    image: 'https://webapi.amap.com/theme/v1.3/markers/n/end.png'
                })
            });
            
            map.add([startMarker, endMarker]);
            
            // 自动规划路线
            planRoute();
        }
        
        // 规划路线
        function planRoute() {
            if (driving) {
                driving.clear();
            }
            
            driving = new AMap.Driving({
                map: map,
                panel: null,
                policy: AMap.DrivingPolicy.LEAST_TIME
            });
            
            driving.search([
                {keyword: '无锡', city: '无锡'},
                {keyword: '安吉天目山漂流', city: '安吉'}
            ], function(status, result) {
                if (status === 'complete') {
                    console.log('路线规划成功');
                    updateRouteInfo(result);
                } else {
                    console.log('路线规划失败：' + result);
                }
            });
        }
        
        // 更新路线信息
        function updateRouteInfo(result) {
            if (result.routes && result.routes.length > 0) {
                const route = result.routes[0];
                const distance = (route.distance / 1000).toFixed(1);
                const duration = Math.round(route.time / 60);
                
                document.querySelector('.distance').textContent = `总距离：${distance}公里`;
                document.querySelector('.duration').textContent = `预计用时：${Math.floor(duration/60)}小时${duration%60}分钟`;
            }
        }
        
        // 显示实时路况
        function showTraffic() {
            const trafficLayer = new AMap.TileLayer.Traffic({
                zIndex: 10
            });
            map.add(trafficLayer);
            
            setTimeout(() => {
                map.remove(trafficLayer);
            }, 10000); // 10秒后隐藏路况
        }
        
        // 显示周边服务
        function showNearby() {
            // 搜索终点附近的服务设施
            const placeSearch = new AMap.PlaceSearch({
                map: map,
                pageSize: 10,
                pageIndex: 1
            });
            
            placeSearch.searchNearBy('酒店|餐厅|加油站', [119.525225, 30.500336], 5000, function(status, result) {
                if (status === 'complete') {
                    console.log('周边服务查询成功');
                }
            });
        }
        
        // 页面加载完成后初始化地图
        window.onload = function() {
            initMap();
        };
    </script>
</body>
</html>