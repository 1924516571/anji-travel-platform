<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ— é”¡åˆ°å®‰å‰å¤©ç›®å±±æ¼‚æµ - è·¯çº¿å¯¼èˆª</title>
    <script src="https://webapi.amap.com/maps?v=2.0&key=3cf792d4900c24ed54fe9f7b4f518edd"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .header h1 {
            color: #4a5568;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 1.2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .map-container h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        #map {
            width: 100%;
            height: 500px;
            border-radius: 10px;
        }

        .route-info {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow-y: auto;
            max-height: 540px;
        }

        .route-info h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .route-summary {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .route-summary .distance {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .route-summary .duration {
            font-size: 1.2rem;
            color: #4a5568;
        }

        .route-steps {
            list-style: none;
        }

        .route-steps li {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 3px solid #38a169;
            transition: transform 0.2s ease;
        }

        .route-steps li:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .step-instruction {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .step-details {
            font-size: 0.9rem;
            color: #718096;
        }

        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .info-card h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }

        .info-card h3::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #667eea;
            margin-right: 10px;
            border-radius: 2px;
        }

        .weather-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .weather-day {
            background: #f7fafc;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .weather-day .date {
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 5px;
        }

        .weather-day .temp {
            font-size: 1.2rem;
            color: #667eea;
            margin: 5px 0;
        }

        .weather-day .desc {
            font-size: 0.9rem;
            color: #718096;
        }

        .tips-list {
            list-style: none;
        }

        .tips-list li {
            background: #e6fffa;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border-left: 3px solid #38b2ac;
        }

        .controls {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: transform 0.2s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .btn:active {
            transform: scale(0.95);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            #map {
                height: 300px;
            }
            
            .route-info {
                max-height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—ºï¸ æ— é”¡ â†’ å®‰å‰å¤©ç›®å±±æ¼‚æµ</h1>
            <p>7æœˆ12æ—¥å‘¨å…­å‡ºè¡Œ | æ™ºèƒ½è·¯çº¿å¯¼èˆª</p>
        </div>

        <div class="controls">
            <button class="btn" onclick="planRoute()">ğŸš— è§„åˆ’è·¯çº¿</button>
            <button class="btn" onclick="showTraffic()">ğŸš¦ å®æ—¶è·¯å†µ</button>
            <a href="https://uri.amap.com/navigation?to=119.525225,30.500336,å®‰å‰å¤©ç›®å±±æ¼‚æµ&mode=car&policy=1&src=mypage&coordinate=gaode&callnative=0" class="btn" target="_blank">ğŸ“± æ‰‹æœºå¯¼èˆª</a>
            <button class="btn" onclick="showNearby()">ğŸ¨ å‘¨è¾¹æœåŠ¡</button>
        </div>

        <div class="main-content">
            <div class="map-container">
                <h3>ğŸ“ è·¯çº¿åœ°å›¾</h3>
                <div id="map"></div>
            </div>

            <div class="route-info">
                <h3>ğŸ›£ï¸ è·¯çº¿è¯¦æƒ…</h3>
                <div class="route-summary">
                    <div class="distance">æ€»è·ç¦»ï¼š193å…¬é‡Œ</div>
                    <div class="duration">é¢„è®¡ç”¨æ—¶ï¼š2å°æ—¶24åˆ†é’Ÿ</div>
                </div>
                
                <ul class="route-steps" id="routeSteps">
                    <li>
                        <div class="step-instruction">ä»æ— é”¡å¸‚åŒºå‡ºå‘</div>
                        <div class="step-details">ç»è´¡æ¹–å¤§é“ã€å—æ¹–å¤§é“è¿›å…¥ååº„äº’é€š</div>
                    </li>
                    <li>
                        <div class="step-instruction">è¿›å…¥S58æ²ªå¸¸é«˜é€Ÿ</div>
                        <div class="step-details">è¡Œé©¶23.2å…¬é‡Œï¼Œç»å¤ªæ¹–éš§é“</div>
                    </li>
                    <li>
                        <div class="step-instruction">è½¬å…¥G25é•¿æ·±é«˜é€Ÿ</div>
                        <div class="step-details">è¡Œé©¶15.6å…¬é‡Œï¼Œç»æ¢¯å­å±±éš§é“</div>
                    </li>
                    <li>
                        <div class="step-instruction">ç»æå®¶å··æ¢çº½è½¬G50æ²ªæ¸é«˜é€Ÿ</div>
                        <div class="step-details">è¡Œé©¶26.2å…¬é‡Œ</div>
                    </li>
                    <li>
                        <div class="step-instruction">ç»æ³—å®‰æ¢çº½è½¬S14æ­é•¿é«˜é€Ÿ</div>
                        <div class="step-details">è¡Œé©¶21.1å…¬é‡Œ</div>
                    </li>
                    <li>
                        <div class="step-instruction">ç»å®‰åŸæ¢çº½è½¬S12ç”³å˜‰æ¹–é«˜é€Ÿ</div>
                        <div class="step-details">è¡Œé©¶26.7å…¬é‡Œ</div>
                    </li>
                    <li>
                        <div class="step-instruction">ä¸‹é«˜é€Ÿè¿›å…¥å¿é“</div>
                        <div class="step-details">ç»306çœé“ã€ç‹å­”çº¿ã€åˆ˜å½­çº¿åˆ°è¾¾ç›®çš„åœ°</div>
                    </li>
                </ul>
            </div>
        </div>

        <div class="info-cards">
            <div class="info-card">
                <h3>ğŸŒ¤ï¸ å¤©æ°”é¢„æŠ¥</h3>
                <div class="weather-info">
                    <div class="weather-day">
                        <div class="date">7æœˆ4æ—¥ å‘¨äº”</div>
                        <div class="temp">39Â°/23Â°</div>
                        <div class="desc">å¤šäº‘</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7æœˆ5æ—¥ å‘¨å…­</div>
                        <div class="temp">40Â°/24Â°</div>
                        <div class="desc">æ™´å¤©</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7æœˆ6æ—¥ å‘¨æ—¥</div>
                        <div class="temp">39Â°/24Â°</div>
                        <div class="desc">å¤šäº‘</div>
                    </div>
                    <div class="weather-day">
                        <div class="date">7æœˆ7æ—¥ å‘¨ä¸€</div>
                        <div class="temp">39Â°/24Â°</div>
                        <div class="desc">å°é›¨</div>
                    </div>
                </div>
            </div>

            <div class="info-card">
                <h3>âš ï¸ å‡ºè¡Œæé†’</h3>
                <ul class="tips-list">
                    <li>ğŸ•˜ å»ºè®®æ—©ä¸Š8:00å‡ºå‘ï¼Œé¿å¼€é«˜å³°æœŸ</li>
                    <li>â›½ å‡ºå‘å‰æ£€æŸ¥æ²¹é‡ï¼Œä¸­é€”æœ‰å¤šä¸ªæœåŠ¡åŒº</li>
                    <li>ğŸ“± ä¸‹è½½ç¦»çº¿åœ°å›¾ï¼Œå±±åŒºä¿¡å·å¯èƒ½ä¸ç¨³å®š</li>
                    <li>ğŸ’ å‡†å¤‡æ¼‚æµè£…å¤‡ï¼šæ¢æ´—è¡£ç‰©ã€é˜²æ°´è¢‹</li>
                    <li>ğŸ’° å‡†å¤‡ç°é‡‘ï¼Œéƒ¨åˆ†å±±åŒºå¯èƒ½æ— æ³•ç§»åŠ¨æ”¯ä»˜</li>
                    <li>ğŸš— å±±åŒºé“è·¯å¼¯é“è¾ƒå¤šï¼Œæ³¨æ„å®‰å…¨é©¾é©¶</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>ğŸ¨ ä½å®¿æ¨è</h3>
                <ul class="tips-list">
                    <li>ğŸ¨ 7å¤©è¿é”é…’åº—(å®‰å‰ä¸­å¿ƒåº—) - æ€§ä»·æ¯”é«˜</li>
                    <li>ğŸ¡ å¯’æœ¨æ˜¥åå±±é‡æ±¤æ³‰ç¾å¢… - ç‰¹è‰²æ°‘å®¿</li>
                    <li>ğŸŒŸ å®‰å‰ç‘¶çªæ˜Ÿç©ºæ³³æ± æ°‘å®¿ - äº²å­é¦–é€‰</li>
                    <li>ğŸ¦Œ å®‰å‰é¹¿å±¿ä¸é¹¿æ°‘å®¿ - æ¼‚æµç å¤´é™„è¿‘</li>
                    <li>ğŸï¸ å®‰å‰å¸ƒè°·å±±é‡æº¯æºªæ°‘å®¿ - è‡ªç„¶é£å…‰</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>ğŸ½ï¸ ç¾é£Ÿæ¨è</h3>
                <ul class="tips-list">
                    <li>ğŸ”ï¸ ç¥æ¸¸å±±åº„ - æ­£å®—å†œå®¶èœ</li>
                    <li>ğŸƒ ä¸‡äº©èŒ¶å›­é¤å… - å®‰å‰ç™½èŒ¶ä¸»é¢˜</li>
                    <li>ğŸŒ¾ å±±ç¦¾ç¨»å†œåœºé¤å… - æœ‰æœºå†œåœºèœ</li>
                    <li>ğŸ¡ å¤§å©¶å®¶é™¢å­é¤å… - åº­é™¢ç”¨é¤</li>
                    <li>ğŸ² æ—æå®¶å®´ç§æˆ¿èœ - ç²¾è‡´æ–™ç†</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let map;
        let driving;
        
        // åˆå§‹åŒ–åœ°å›¾
        function initMap() {
            map = new AMap.Map('map', {
                zoom: 8,
                center: [119.9, 31.0],
                mapStyle: 'amap://styles/normal'
            });
            
            // æ·»åŠ èµ·ç‚¹å’Œç»ˆç‚¹æ ‡è®°
            const startMarker = new AMap.Marker({
                position: [120.311889, 31.491064],
                title: 'æ— é”¡ï¼ˆèµ·ç‚¹ï¼‰',
                icon: new AMap.Icon({
                    size: new AMap.Size(32, 32),
                    image: 'https://webapi.amap.com/theme/v1.3/markers/n/start.png'
                })
            });
            
            const endMarker = new AMap.Marker({
                position: [119.525225, 30.500336],
                title: 'å®‰å‰å¤©ç›®å±±æ¼‚æµï¼ˆç»ˆç‚¹ï¼‰',
                icon: new AMap.Icon({
                    size: new AMap.Size(32, 32),
                    image: 'https://webapi.amap.com/theme/v1.3/markers/n/end.png'
                })
            });
            
            map.add([startMarker, endMarker]);
            
            // è‡ªåŠ¨è§„åˆ’è·¯çº¿
            planRoute();
        }
        
        // è§„åˆ’è·¯çº¿
        function planRoute() {
            if (driving) {
                driving.clear();
            }
            
            driving = new AMap.Driving({
                map: map,
                panel: null,
                policy: AMap.DrivingPolicy.LEAST_TIME
            });
            
            driving.search([
                {keyword: 'æ— é”¡', city: 'æ— é”¡'},
                {keyword: 'å®‰å‰å¤©ç›®å±±æ¼‚æµ', city: 'å®‰å‰'}
            ], function(status, result) {
                if (status === 'complete') {
                    console.log('è·¯çº¿è§„åˆ’æˆåŠŸ');
                    updateRouteInfo(result);
                } else {
                    console.log('è·¯çº¿è§„åˆ’å¤±è´¥ï¼š' + result);
                }
            });
        }
        
        // æ›´æ–°è·¯çº¿ä¿¡æ¯
        function updateRouteInfo(result) {
            if (result.routes && result.routes.length > 0) {
                const route = result.routes[0];
                const distance = (route.distance / 1000).toFixed(1);
                const duration = Math.round(route.time / 60);
                
                document.querySelector('.distance').textContent = `æ€»è·ç¦»ï¼š${distance}å…¬é‡Œ`;
                document.querySelector('.duration').textContent = `é¢„è®¡ç”¨æ—¶ï¼š${Math.floor(duration/60)}å°æ—¶${duration%60}åˆ†é’Ÿ`;
            }
        }
        
        // æ˜¾ç¤ºå®æ—¶è·¯å†µ
        function showTraffic() {
            const trafficLayer = new AMap.TileLayer.Traffic({
                zIndex: 10
            });
            map.add(trafficLayer);
            
            setTimeout(() => {
                map.remove(trafficLayer);
            }, 10000); // 10ç§’åéšè—è·¯å†µ
        }
        
        // æ˜¾ç¤ºå‘¨è¾¹æœåŠ¡
        function showNearby() {
            // æœç´¢ç»ˆç‚¹é™„è¿‘çš„æœåŠ¡è®¾æ–½
            const placeSearch = new AMap.PlaceSearch({
                map: map,
                pageSize: 10,
                pageIndex: 1
            });
            
            placeSearch.searchNearBy('é…’åº—|é¤å…|åŠ æ²¹ç«™', [119.525225, 30.500336], 5000, function(status, result) {
                if (status === 'complete') {
                    console.log('å‘¨è¾¹æœåŠ¡æŸ¥è¯¢æˆåŠŸ');
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–åœ°å›¾
        window.onload = function() {
            initMap();
        };
    </script>
</body>
</html>